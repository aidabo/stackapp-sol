/* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              */import{d as E,r as C,s as $,x as Z,i as u,j as P,k as t,m as v,e as a,a as x,g as M,t as U,F as N,b as p,D as O,a7 as ee,a9 as j,aa as R,aj as te,M as ae,h as oe,o as ne,w as k,ak as se,B as le,C as ie,I as ce,al as de,am as ue,q as _e,an as re,ao as pe,p as me,l as fe,_ as ve}from"./index-Du6purcr.js";import{u as ge,v as we}from"./PageLayoutStore-CEThXhLB.js";/* empty css              */const ye=p("div",null,"Input page title and select a category",-1),he=E({__name:"CreatePageDialog",props:{show:{type:Boolean,default:!1},done:Function,cancel:Function},setup(m){const i=m,f=C(!1),c=$({title:"",category:""}),I=$([{text:"test1",value:"test1"},{text:"test2",value:"test2"},{text:"test3",value:"test3"},{text:"test4",value:"test4"}]);Z(i,()=>{f.value=i.show});const g=async()=>{if(i.done){const s=await i.done(c);console.log("result",s)}else await new Promise(s=>setTimeout(s,3e3))},_=async()=>{i.cancel&&await i.cancel()};return(s,d)=>{const w=O,y=ee,V=j,D=R,L=te,S=ae;return u(),P(S,{visible:f.value,"onUpdate:visible":d[2]||(d[2]=o=>f.value=o),title:"Modal Form",onCancel:_,onOk:g,draggable:"","unmount-on-close":""},{title:t(()=>[v(" Create new page ")]),default:t(()=>[a(L,{model:c},{default:t(()=>[ye,a(y,{field:"name",label:"Name"},{default:t(()=>[a(w,{modelValue:c.title,"onUpdate:modelValue":d[0]||(d[0]=o=>c.title=o)},null,8,["modelValue"])]),_:1}),a(y,{field:"post",label:"Post"},{default:t(()=>[a(D,{modelValue:c.category,"onUpdate:modelValue":d[1]||(d[1]=o=>c.category=o)},{default:t(()=>[(u(!0),x(N,null,M(I,o=>(u(),P(V,{value:o.value},{default:t(()=>[v(U(o.text),1)]),_:2},1032,["value"]))),256))]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["visible"])}}}),be=m=>(me("data-v-7f5d083c"),m=m(),fe(),m),Ce={class:"full-w px-4"},ke={class:"grid justify-items-end"},xe={class:"p-2"},Pe=["onClick"],Ie=be(()=>p("img",{alt:"avatar",src:"https://p1-arco.byteimg.com/tos-cn-i-uwbnlip3yd/3ee5f13fb09879ecb5185e440cef6eb9.png~tplv-uwbnlip3yd-webp.webp"},null,-1)),Ve=["onClick"],De=["onClick"],Le=E({__name:"SimpleListParts",setup(m){const{getPageList:i,savePage:f,getPageById:c,deletePage:I}=ge(),g=C(Array()),_=C(null),s=C(!1),d=C(null),w=oe(),y=async()=>{g.value=await i(),_.value=g.value.map(e=>({id:e.id,editable:!1}))};ne(async()=>{await y()});const V=e=>{if(_.value.find(n=>n.id==e&&n.editable))return!0},D=e=>{_.value=_.value.map(n=>(e&&n.id==e?n.editable=!n.editable:n.editable=!1,n))},L=async(e,n)=>{let h=_.value.find(r=>r.editable);if(h){let r=await c(h.id);r.title=e,await f(r)}h.editable=!1},S=()=>{s.value=!0},o=async e=>{e.title&&(e.id=`page_${we()}`,await f(e)),s.value=!1,await w.push({name:"createpage",params:{id:e.id}})},T=()=>{s.value=!1},q=async e=>{await w.push({name:"createpage",params:{id:e}})},A=async e=>{await w.push({name:"page",params:{id:e}})},z=async e=>{await I(e),await y()};return(e,n)=>{const h=se,r=le,B=ie,G=O,F=ce,H=de,J=ue,K=_e,Q=j,W=R,X=re,Y=pe;return u(),x("div",Ce,[p("div",ke,[p("div",xe,[a(B,null,{default:t(()=>[a(r,{type:"primary",onClick:S},{icon:t(()=>[a(h)]),default:t(()=>[v("Create Page")]),_:1})]),_:1})]),p("div",null,[a(he,{ref_key:"dialogRef",ref:d,show:s.value,done:o,cancel:T},null,8,["show"])])]),a(Y,null,{default:t(()=>[(u(!0),x(N,null,M(g.value,l=>(u(),P(X,{key:l.id},{actions:t(()=>[p("span",{onClick:k(b=>q(l.id),["prevent"])},[a(F),v("編集")],8,Ve),p("span",{onClick:k(b=>z(l.id),["prevent"])},[a(K),v("削除")],8,De),a(W,{style:{width:"220px"},placeholder:"Please select ..."},{default:t(()=>[a(Q,{value:!0},{default:t(()=>[v("Change Category")]),_:1})]),_:1})]),default:t(()=>[a(J,null,{title:t(()=>[a(B,null,{default:t(()=>[V(l.id)?(u(),P(G,{key:1,style:{width:"320px"},onChange:L,modelValue:l.title,"onUpdate:modelValue":b=>l.title=b},null,8,["modelValue","onUpdate:modelValue"])):(u(),x("a",{key:0,href:"#",onClick:k(b=>A(l.id),["prevent"])},U(l.title),9,Pe)),a(r,{onClick:k(b=>D(l.id),["prevent"])},{default:t(()=>[a(F)]),_:2},1032,["onClick"])]),_:2},1024)]),avatar:t(()=>[a(H,{shape:"square"},{default:t(()=>[Ie]),_:1})]),_:2},1024)]),_:2},1024))),128))]),_:1})])}}}),Oe=ve(Le,[["__scopeId","data-v-7f5d083c"]]);export{Oe as default};
